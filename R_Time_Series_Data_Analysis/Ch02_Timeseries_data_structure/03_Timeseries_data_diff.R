##########################################################################################################################################

#(주의) ->  순차적으로 코드를 실행하는 것을 권함!

#에러 발생 시 github Time_Series_Analysis/R_Time_Series_Data_Analysis 경로에 issue를 남기면 확인

##########################################################################################################################################


### 차분(Difference)의 산정.

# 시계열 자료에서 특정시점 자료에서 그 앞에 있는 자료와의 차이를 나타내는 차분(difference, 계차)의 산정은 다음과 같음.
# 시계열 자료가 추세를 내포하고 있을 경우 이를 제거할 때, 적용.


dd.ts                       # 분석자료 yt


diff(dd.ts)                 # lag=1, 1차 차분.

diff(dd.ts,2)               # lag=2, 2차 차분.

diff(dd.ts, 1, 2)           # lag=1, 2차 차분.
                            # 2006, 3분기의 경우.
                            # 1차: 1242 -1142 =100
                            # 2차: 10 - 100 = -90

diff(diff(dd.ts))           # 2차 차분.



graphics.off()                                                      # 그래프 지워주는 함수.

############################################################결과값(print)#################################################################

# # > dd.ts                       # 분석자료 yt
# Qtr1 Qtr2 Qtr3 Qtr4
# 2006 1342 1442 1252 1343
# 2007 1425 1362 1456 1272
# 2008 1243 1359 1412 1253
# 2009 1201 1478 1322 1406
# 2010 1254 1289 1497 1208
# > 
#   > 
#   > diff(dd.ts)                 # lag=1, 1차 차분.
# Qtr1 Qtr2 Qtr3 Qtr4
# 2006       100 -190   91
# 2007   82  -63   94 -184
# 2008  -29  116   53 -159
# 2009  -52  277 -156   84
# 2010 -152   35  208 -289
# > 
#   > diff(dd.ts,2)               # lag=2, 2차 차분.
# Qtr1 Qtr2 Qtr3 Qtr4
# 2006            -90  -99
# 2007  173   19   31  -90
# 2008 -213   87  169 -106
# 2009 -211  225  121  -72
# 2010  -68 -117  243  -81
# > 
#   > diff(dd.ts, 1, 2)           # lag=1, 2차 차분.
# Qtr1 Qtr2 Qtr3 Qtr4
# 2006           -290  281
# 2007   -9 -145  157 -278
# 2008  155  145  -63 -212
# 2009  107  329 -433  240
# 2010 -236  187  173 -497
# >                             # 2006, 3분기의 경우.
#   >                             # 1차: 1242 -1142 =100
#   >                             # 2차: 10 - 100 = -90
#   > 
#   > diff(diff(dd.ts))           # 2차 차분.
# Qtr1 Qtr2 Qtr3 Qtr4
# 2006           -290  281
# 2007   -9 -145  157 -278
# 2008  155  145  -63 -212
# 2009  107  329 -433  240
# 2010 -236  187  173 -497


##########################################################################################################################################